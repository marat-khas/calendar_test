{"version":3,"sources":["components/calendar/calendar-event/styles.module.scss","components/calendar/calendar-event/calendar-event.tsx","components/calendar/calendar-day/calendar-day.tsx","components/calendar/calendar.tsx","components/app/app.tsx","reportWebVitals.ts","index.tsx","components/calendar/calendar-day/styles.module.scss"],"names":["module","exports","CalendarEvent","id","title","left","width","initialStart","start","initialEnd","end","hours","isResize","setEvents","setResizeEventId","eventRef","useRef","resizeDirectionRef","useState","setStart","setEnd","top","setTop","height","setHeight","styleProps","handleMouseDown","handleMouseUp","defaultProps","position","state","map","event","handleMouseMove","e","eventHeight","current","getBoundingClientRect","eventTop","cursorTop","clientY","undefined","transition","Math","ceil","endNew","max","startNew","min","twoDigits","num","minToTime","floor","useEffect","window","addEventListener","removeEventListener","className","classNames","styles","event_active","style","ref","draggable","onDragStart","console","log","onDragEnd","event__in","event__title","event__time","event__border","event__border_top","onMouseDown","event__border_bottom","initialEvents","CalendarDay","STEP","events","resizeEventId","timeMatrix","Array","from","length","TOTAL_HOURS","forEach","x","push","line","involvedIndexes","reduce","acc","nextAvailableIndex","curIndex","includes","res","sort","a","b","index","eventIndex","arr","prevEvent","nearestRightBorder","i","findIndex","nextEvent","dayHours","_","day","day_resize","day__hours","value","day__time","day__table","day__cell","Calendar","AppStyles","createGlobalStyle","appStyles","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45dee461.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"event\":\"styles_event__NkyMX\",\"event_active\":\"styles_event_active__1_FLM\",\"event__in\":\"styles_event__in__d2mef\",\"event__border\":\"styles_event__border__3R8aq\",\"event__border_top\":\"styles_event__border_top__18psw\",\"event__border_bottom\":\"styles_event__border_bottom__Py8GV\"};","import classNames from \"classnames\";\r\nimport { FC, useEffect, useRef, useState } from \"react\";\r\nimport styles from \"./styles.module.scss\";\r\nimport { CalendarEventProps } from \"./types\";\r\n\r\nexport const CalendarEvent: FC<CalendarEventProps> = ({\r\n  id,\r\n  title,\r\n  left,\r\n  width,\r\n  start: initialStart,\r\n  end: initialEnd,\r\n  hours,\r\n  isResize,\r\n  setEvents,\r\n  setResizeEventId,\r\n}) => {\r\n  const CELL_HEIGHT = 24;\r\n  const CELL_TIME = 15;\r\n\r\n  const eventRef = useRef<HTMLDivElement | null>(null);\r\n  const resizeDirectionRef = useRef<\"top\" | \"bottom\">(\"bottom\");\r\n\r\n  const [start, setStart] = useState(initialStart);\r\n  const [end, setEnd] = useState(initialEnd);\r\n\r\n  const [top, setTop] = useState(start / (hours * 60));\r\n  const [height, setHeight] = useState((end - start) / (hours * 60));\r\n\r\n  const styleProps = {\r\n    top: `${top * 100}%`,\r\n    left: `${isResize ? 0 : left}%`,\r\n    width: `${isResize ? 100 : width}%`,\r\n    height: `${height * 100}%`,\r\n  };\r\n\r\n  const handleMouseDown = () => {\r\n    setResizeEventId(id);\r\n  };\r\n\r\n  const handleBorderBottomMouseDown = () => {\r\n    resizeDirectionRef.current = \"bottom\";\r\n    handleMouseDown();\r\n  };\r\n\r\n  const handleBorderTopMouseDown = () => {\r\n    resizeDirectionRef.current = \"top\";\r\n    handleMouseDown();\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    if (isResize) {\r\n      const defaultProps = {\r\n        position: -1,\r\n        left: 0,\r\n        width: 100,\r\n      };\r\n      setEvents((state) => {\r\n        return state.map((event) =>\r\n          event.id === id\r\n            ? { ...event, ...defaultProps, start, end }\r\n            : { ...event, ...defaultProps }\r\n        );\r\n      });\r\n      setResizeEventId(null);\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = (e: MouseEvent) => {\r\n    if (isResize) {\r\n      const eventHeight = eventRef.current?.getBoundingClientRect().height;\r\n      const eventTop = eventRef.current?.getBoundingClientRect().top;\r\n      const cursorTop = e.clientY;\r\n      if (eventHeight && eventTop !== undefined) {\r\n        if (resizeDirectionRef.current === \"bottom\") {\r\n          const transition = Math.ceil(\r\n            (cursorTop - (eventTop + eventHeight)) / CELL_HEIGHT\r\n          );\r\n          const endNew = Math.max(\r\n            start + CELL_TIME,\r\n            end + transition * CELL_TIME\r\n          );\r\n          endNew !== end && setEnd(endNew);\r\n        } else {\r\n          const transition = Math.ceil((eventTop - cursorTop) / CELL_HEIGHT);\r\n          const startNew = Math.min(\r\n            end - CELL_TIME,\r\n            start - transition * CELL_TIME\r\n          );\r\n          startNew !== start && setStart(startNew);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const twoDigits = (num: number) => (num < 10 ? `0${num}` : `${num}`);\r\n\r\n  const minToTime = (num: number) =>\r\n    `${twoDigits(Math.floor(num / 60))}:${twoDigits(num % 60)}`;\r\n\r\n  useEffect(() => {\r\n    setTop(start / (hours * 60));\r\n  }, [start, hours]);\r\n\r\n  useEffect(() => {\r\n    setHeight((end - start) / (hours * 60));\r\n  }, [start, end, hours]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"mouseup\", handleMouseUp);\r\n    return () => {\r\n      window.removeEventListener(\"mouseup\", handleMouseUp);\r\n    };\r\n  }, [isResize, start, end]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"mousemove\", handleMouseMove);\r\n    return () => {\r\n      window.removeEventListener(\"mousemove\", handleMouseMove);\r\n    };\r\n  }, [isResize, start, end]);\r\n\r\n  useEffect(() => {\r\n    setEnd(initialEnd);\r\n  }, [initialEnd]);\r\n\r\n  return (\r\n    <div\r\n      className={classNames(styles.event, {\r\n        [styles.event_active]: isResize,\r\n      })}\r\n      style={styleProps}\r\n      ref={eventRef}\r\n      draggable={!isResize}\r\n      onDragStart={() => console.log(\"onDragStart\")}\r\n      onDragEnd={() => console.log(\"onDragEnd\")}\r\n    >\r\n      <div className={styles.event__in}>\r\n        <div className={styles.event__title}>{title}</div>\r\n        <div className={styles.event__time}>{`${minToTime(start)} - ${minToTime(\r\n          end\r\n        )}`}</div>\r\n        <div\r\n          className={classNames(styles.event__border, styles.event__border_top)}\r\n          onMouseDown={handleBorderTopMouseDown}\r\n        />\r\n        <div\r\n          className={classNames(\r\n            styles.event__border,\r\n            styles.event__border_bottom\r\n          )}\r\n          onMouseDown={handleBorderBottomMouseDown}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import classNames from \"classnames\";\r\nimport { FC, useState } from \"react\";\r\nimport { CalendarEvent } from \"../calendar-event/calendar-event\";\r\nimport styles from \"./styles.module.scss\";\r\nimport { CalendarEventData } from \"./types\";\r\n\r\nconst initialEvents: CalendarEventData[] = [\r\n  {\r\n    id: \"0\",\r\n    start: 7 * 60 + 30,\r\n    end: 7 * 60 + 45,\r\n    title: \"Тестовое событие 1\",\r\n    position: -1,\r\n    left: 0,\r\n    width: 100,\r\n  },\r\n  {\r\n    id: \"1\",\r\n    start: 8 * 60 + 30,\r\n    end: 9 * 60 + 45,\r\n    title: \"Тестовое событие 2\",\r\n    position: -1,\r\n    left: 0,\r\n    width: 100,\r\n  },\r\n  {\r\n    id: \"2\",\r\n    start: 7 * 60 + 30,\r\n    end: 14 * 60,\r\n    title: \"Тестовое событие 3\",\r\n    position: -1,\r\n    left: 0,\r\n    width: 100,\r\n  },\r\n  {\r\n    id: \"3\",\r\n    start: 6 * 60 + 30,\r\n    end: 9 * 60,\r\n    title: \"Тестовое событие 4\",\r\n    position: -1,\r\n    left: 0,\r\n    width: 100,\r\n  },\r\n  {\r\n    id: \"4\",\r\n    start: 8 * 60 + 30,\r\n    end: 11 * 60,\r\n    title: \"Тестовое событие 5\",\r\n    position: -1,\r\n    left: 0,\r\n    width: 100,\r\n  },\r\n  {\r\n    id: \"5\",\r\n    start: 10 * 60 + 30,\r\n    end: 11 * 60,\r\n    title: \"Тестовое событие 6\",\r\n    position: -1,\r\n    left: 0,\r\n    width: 100,\r\n  },\r\n];\r\n\r\nexport const CalendarDay: FC = () => {\r\n  const STEP = 15;\r\n  const TOTAL_HOURS = 24;\r\n\r\n  const [events, setEvents] = useState<CalendarEventData[]>(initialEvents);\r\n  const [resizeEventId, setResizeEventId] = useState<string | null>(null);\r\n\r\n  const timeMatrix: CalendarEventData[][] = Array.from(\r\n    { length: (TOTAL_HOURS * 60) / STEP },\r\n    () => []\r\n  );\r\n\r\n  events.forEach((event) => {\r\n    const { start, end } = event;\r\n    for (let x = start; x < end; x += STEP) {\r\n      timeMatrix[x / STEP].push(event);\r\n    }\r\n  });\r\n\r\n  timeMatrix.forEach((line) => {\r\n    if (!line.length) {\r\n      return \"Empty line\";\r\n    }\r\n\r\n    const involvedIndexes = line.reduce((acc: number[], { position }) => {\r\n      position > -1 && acc.push(position);\r\n      return acc;\r\n    }, []);\r\n\r\n    const nextAvailableIndex = (() => {\r\n      let curIndex = 0;\r\n      return () => {\r\n        while (involvedIndexes.includes(curIndex)) {\r\n          curIndex++;\r\n        }\r\n        const res = curIndex;\r\n        curIndex++;\r\n        return res;\r\n      };\r\n    })();\r\n\r\n    line\r\n      .sort((a, b) => b.end - a.end)\r\n      .forEach((event) => {\r\n        if (event.position === -1) {\r\n          const position = nextAvailableIndex();\r\n          event.position = position;\r\n        }\r\n        event.width = Math.min(event.width, 100 / line.length);\r\n      });\r\n  });\r\n\r\n  timeMatrix.forEach((line, index) => {\r\n    if (!line.length) {\r\n      return \"Empty line\";\r\n    }\r\n\r\n    line\r\n      .sort((a, b) => a.position - b.position)\r\n      .forEach((event, eventIndex, arr) => {\r\n        if (event.start === index * STEP) {\r\n          const prevEvent = arr[eventIndex - 1];\r\n          if (prevEvent) {\r\n            event.left = prevEvent.left + prevEvent.width;\r\n          }\r\n        }\r\n      });\r\n  });\r\n\r\n  [...events]\r\n    .sort((a, b) => {\r\n      if (a.start === b.start) {\r\n        return b.end - a.end;\r\n      }\r\n      return a.start - b.start;\r\n    })\r\n    .forEach((event) => {\r\n      let nearestRightBorder = 100;\r\n      for (let i = event.start; i < event.end; i += STEP) {\r\n        const line = timeMatrix[i / STEP].sort(\r\n          (a, b) => a.position - b.position\r\n        );\r\n        const index = line.findIndex((e) => e.id === event.id);\r\n        const nextEvent = line[index + 1];\r\n        if (nextEvent) {\r\n          nearestRightBorder = nearestRightBorder\r\n            ? Math.min(nearestRightBorder, nextEvent.left)\r\n            : nextEvent.left;\r\n        }\r\n      }\r\n      event.width = nearestRightBorder - event.left;\r\n    });\r\n\r\n  const dayHours = Array.from({ length: TOTAL_HOURS }, (_, i) => i);\r\n\r\n  return (\r\n    <div\r\n      className={classNames(styles.day, { [styles.day_resize]: resizeEventId })}\r\n    >\r\n      <div className={styles.day__hours}>\r\n        {dayHours.map((value) => (\r\n          <div key={value} className={styles.day__time}>{`${value}:00`}</div>\r\n        ))}\r\n      </div>\r\n      <div className={styles.day__table}>\r\n        {dayHours.map((value) => (\r\n          <div key={value} className={styles.day__cell}></div>\r\n        ))}\r\n        {events.map((event) => {\r\n          return (\r\n            <CalendarEvent\r\n              key={event.id}\r\n              id={event.id}\r\n              title={event.title}\r\n              left={event.left}\r\n              width={event.width}\r\n              start={event.start}\r\n              end={event.end}\r\n              hours={TOTAL_HOURS}\r\n              setEvents={setEvents}\r\n              setResizeEventId={setResizeEventId}\r\n              isResize={resizeEventId === event.id}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { FC } from \"react\";\r\nimport { CalendarDay } from \"./calendar-day/calendar-day\";\r\n\r\nexport const Calendar: FC = () => {\r\n  return (\r\n    <div>\r\n      <CalendarDay />\r\n    </div>\r\n  );\r\n};\r\n","import { FC } from \"react\";\r\nimport { Calendar } from \"../calendar/calendar\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\n\r\nimport appStyles from \"./styles.module.scss\";\r\n\r\nconst AppStyles = createGlobalStyle`${appStyles};`;\r\n\r\nexport const App: FC = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <AppStyles />\r\n      <Calendar />\r\n    </div>\r\n  );\r\n};\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { App } from \"./components/app/app\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"day\":\"styles_day__11Wd4\",\"day_resize\":\"styles_day_resize__3pe_r\",\"day__hours\":\"styles_day__hours__2UzQg\",\"day__time\":\"styles_day__time__fG10W\",\"day__table\":\"styles_day__table__QWlx6\",\"day__cell\":\"styles_day__cell__3FzJP\"};"],"sourceRoot":""}